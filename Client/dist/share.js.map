{"version":3,"sources":["webpack:///./web/share/share.js"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,mDAAmD;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,qBAAqB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,CAAC;AACD;AACA;AACA,CAAC,C","file":"share.js","sourcesContent":["/**\n * Created by sunxin on 2017/5/26.\n */\nif(location.hash.length<=1)\n{\n    alert(\"分享链接不正确\");\n    window.close();\n}\nvar id=location.hash.substr(1);\nvar vue=new Vue({\n    el: \"#app\",\n    data: {\n        interface:{},\n        query:[{\n            name:\"\",\n            must:0,\n            remark:\"\"\n        }],\n        header:[{\n            name:\"\",\n            value:\"\",\n            remark:\"\"\n        }],\n        body:[{\n            name:\"\",\n            type:0,\n            must:0,\n            remark:\"\",\n        }],\n        param:[\n        ],\n        bodyInfo:{\n            type:0,\n            rawType:0,\n            rawTextRemark:\"\",\n            rawFileRemark:\"\",\n            rawText:\"\",\n            rawJSON:[{\n                name:\"\",\n                must:1,\n                type:0,\n                remark:\"\",\n                show:1,\n                mock:\"\",\n                drag:1\n            }]\n        },\n        outInfo:{\n            type:0,\n            rawRemark:\"\",\n            rawMock:\"\",\n            jsonType:0\n        },\n        result:[],\n        resultObject:[\n            {\n                name:\"\",\n                must:0,\n                type:0,\n                remark:\"\",\n                show:0,\n                mock:\"\",\n                drag:1\n            }\n        ],\n        resultArray:[\n            {\n                name:null,\n                must:0,\n                type:0,\n                remark:\"\",\n                show:0,\n                mock:\"\",\n                drag:1\n            }\n        ],\n        drawMix:[],\n    },\n    computed:{\n        querySave:function () {\n            return this.query.filter(function (obj) {\n                if(obj.name)\n                {\n                    return true\n                }\n                else\n                {\n                    return false\n                }\n            })\n        },\n        headerSave:function () {\n            return this.header.filter(function (obj) {\n                if(obj.name)\n                {\n                    return true\n                }\n                else\n                {\n                    return false\n                }\n            });\n        },\n        bodySave:function () {\n            return this.body.filter(function (obj) {\n                if(obj.name)\n                {\n                    return true\n                }\n                else\n                {\n                    return false\n                }\n            })\n        },\n        queryCount:function () {\n            return this.querySave.length\n        },\n        headerCount:function () {\n            return this.headerSave.length\n        },\n        bodyCount:function () {\n            return this.bodySave.length\n        },\n        paramCount:function () {\n            return this.param.length;\n        },\n        rawMock:function () {\n            var bJSON=false,obj={};\n            if(this.bodyInfo.type==1 && this.bodyInfo.rawType==2 && this.bodyInfo.rawJSON)\n            {\n                obj=this.bodyInfo.rawJSONType==0?{}:[];\n                bJSON=true;\n                var result=helper.resultSave(this.bodyInfo.rawJSON);\n                helper.convertToJSON(result,obj);\n            }\n            var info=helper.handleMockInfo(0,this.param,this.query,this.header,bJSON?obj:this.body,this);\n            return helper.mock(this.outInfo.rawMock,info);\n        },\n        rawJSON:function () {\n            var obj=this.bodyInfo.rawJSONType==0?{}:[];\n            var result=helper.resultSave(this.bodyInfo.rawJSON);\n            helper.convertToJSON(result,obj);\n            return helper.format(JSON.stringify(obj),1,result,this.status).draw;\n        },\n        paramTab:function () {\n            return \"Param (\"+this.paramCount+\")\";\n        },\n        queryTab:function () {\n            return \"Query (\"+this.queryCount+\")\";\n        },\n        headerTab:function () {\n            return \"Header (\"+this.headerCount+\")\";\n        },\n        bodyTab:function () {\n            return \"Body (\"+(this.bodyInfo.type==0?this.bodyCount:\"Raw\")+\")\";\n        },\n        editInfo:function () {\n            return this.interface?(this.interface.createdAt?((this.interface.owner?this.interface.owner.name:\"\")+\"在\"+this.interface.createdAt+\"创建，最近修改被\"+(this.interface.editor?this.interface.editor.name:\"\")+\"在\"+this.interface.updatedAt+\"改动\"):\"接口尚未保存\"):\"\";\n        },\n    },\n    methods:{\n        showInfo:function (data) {\n            this.interface=data;\n            if(this.interface.queryParam.length>0)\n            {\n                var obj=this.query[0];\n                this.query=this.interface.queryParam;\n                this.query.forEach(function (item) {\n                    if(item.value && typeof(item.value)==\"object\" && (item.value instanceof Array))\n                    {\n                        item.value={\n                            type:0,\n                            status:\"\",\n                            data:item.value.map(function (obj) {\n                                return {\n                                    value:obj,\n                                    remark:\"\"\n                                }\n                            })\n                        }\n                    }\n                })\n                this.query.push(obj);\n            }\n            else\n            {\n                this.interface.queryParam=this.query;\n            }\n            if(this.interface.bodyParam.length>0)\n            {\n                var obj=this.body[0];\n                this.body=this.interface.bodyParam;\n                this.body.forEach(function (item) {\n                    if(item.value && typeof(item.value)==\"object\" && (item.value instanceof Array))\n                    {\n                        item.value={\n                            type:0,\n                            status:\"\",\n                            data:item.value.map(function (obj) {\n                                return {\n                                    value:obj,\n                                    remark:\"\"\n                                }\n                            })\n                        }\n                    }\n                })\n                this.body.push(obj);\n            }\n            else\n            {\n                this.interface.bodyParam=this.body;\n            }\n            if(this.interface.header.length>0)\n            {\n                var obj=this.header[0];\n                this.header=this.interface.header;\n                this.header.push(obj);\n            }\n            else\n            {\n                this.interface.header=this.header;\n            }\n            if(this.interface.outParam.length>0)\n            {\n                helper.initResultShow(this.interface.outParam);\n                this.result=this.interface.outParam;\n            }\n            else\n            {\n                this.interface.outParam=this.result;\n            }\n            if(this.interface.restParam.length>0)\n            {\n                this.param=this.interface.restParam;\n                this.param.forEach(function (item) {\n                    if(item.value && typeof(item.value)==\"object\" && (item.value instanceof Array))\n                    {\n                        item.value={\n                            type:0,\n                            status:\"\",\n                            data:item.value.map(function (obj) {\n                                return {\n                                    value:obj,\n                                    remark:\"\"\n                                }\n                            })\n                        }\n                    }\n                })\n            }\n            else\n            {\n                this.interface.restParam=this.param;\n            }\n            if(this.interface.bodyInfo)\n            {\n                this.bodyInfo=this.interface.bodyInfo;\n                if(this.bodyInfo.rawText===undefined)\n                {\n                    Vue.set(this.bodyInfo,\"rawText\",\"\");\n                }\n                if(this.bodyInfo.rawTextRemark===undefined)\n                {\n                    Vue.set(this.bodyInfo,\"rawTextRemark\",\"\");\n                }\n                if(this.bodyInfo.rawFileRemark===undefined)\n                {\n                    Vue.set(this.bodyInfo,\"rawFileRemark\",\"\");\n                }\n                if(this.bodyInfo.rawJSON==undefined)\n                {\n                    Vue.set(this.bodyInfo,\"rawJSON\",[{\n                        name:\"\",\n                        must:1,\n                        type:0,\n                        remark:\"\",\n                        show:1,\n                        mock:\"\",\n                        drag:1\n                    }]);\n                }\n                else\n                {\n                    helper.initResultShow(this.bodyInfo.rawJSON);\n                }\n                var bFind=false;\n                for(var i=0;i<this.header.length;i++)\n                {\n                    var obj=this.header[i];\n                    if(obj.name.toLowerCase()==\"content-type\" && obj.value.toLowerCase()==\"application/json\")\n                    {\n                        bFind=true;\n                        break;\n                    }\n                }\n                if(bFind && this.bodyInfo.rawText)\n                {\n                    var obj;\n                    try\n                    {\n                        obj=JSON.parse(this.bodyInfo.rawText);\n                    }\n                    catch (e)\n                    {\n\n                    }\n                    if(obj)\n                    {\n                        var result=[];\n                        for(var key in obj)\n                        {\n                            helper.handleResultData(key,obj[key],result,null,1)\n                        }\n                        this.bodyInfo.rawJSON=result;\n                        this.bodyInfo.rawText=\"\";\n                        this.bodyInfo.rawType=2;\n                    }\n                }\n            }\n            else\n            {\n                this.interface.bodyInfo=this.bodyInfo;\n            }\n            if(this.interface.outInfo)\n            {\n                this.outInfo=this.interface.outInfo;\n                if(this.outInfo.jsonType===undefined)\n                {\n                    Vue.set(this.outInfo,\"jsonType\",0);\n                }\n                else if(this.outInfo.jsonType==0)\n                {\n                    this.resultObject=this.result;\n                }\n                else\n                {\n                    this.resultArray=this.result;\n                }\n            }\n            else\n            {\n                this.interface.outInfo=this.outInfo;\n            }\n            if(!this.interface.before)\n            {\n                Vue.set(this.interface,\"before\",{\n                    mode:0,\n                    code:\"\"\n                })\n            }\n            else\n            {\n                if(typeof(this.interface.before)==\"string\")\n                {\n                    this.interface.before={\n                        mode:0,\n                        code:this.interface.before\n                    }\n                }\n            }\n            if(!this.interface.after)\n            {\n                Vue.set(this.interface,\"after\",{\n                    mode:0,\n                    code:\"\"\n                })\n            }\n            else\n            {\n                if(typeof(this.interface.after)==\"string\")\n                {\n                    this.interface.after={\n                        mode:0,\n                        code:this.interface.after\n                    }\n                }\n            }\n            var obj=this.outInfo.jsonType==1?[]:{};\n            var result=helper.resultSave(this.result);\n            var bJSON=false,objJSON={};\n            if(this.bodyInfo.type==1 && this.bodyInfo.rawType==2 && this.bodyInfo.rawJSON)\n            {\n                objJSON=this.bodyInfo.rawJSONType==0?{}:[];\n                bJSON=true;\n                var result1=helper.resultSave(this.bodyInfo.rawJSON);\n                helper.convertToJSON(result1,objJSON);\n            }\n            var info=helper.handleMockInfo(0,this.param,this.query,this.header,bJSON?objJSON:this.body);\n            helper.convertToJSON(result,obj,info);\n            this.drawMix=helper.format(JSON.stringify(obj),1,result,this.status).draw;\n        },\n        methodColor:function (val) {\n            return helper.methodColor(val);\n        },\n    },\n    created:function () {\n        var _this=this;\n        net.get(\"/interface/share\",{\n            id:id,\n        }).then(function (data) {\n            if(data.code==200)\n            {\n                $.stopLoading();\n                _this.showInfo(data.data);\n            }\n            else\n            {\n                alert(\"接口不存在!\");\n                window.close();\n            }\n        })\n    }\n})\n$.ready(function () {\n    $.startLoading();\n})\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./web/share/share.js\n// module id = 266\n// module chunks = 3"],"sourceRoot":""}